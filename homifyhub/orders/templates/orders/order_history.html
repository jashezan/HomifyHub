{% extends "base.html" %}

{% block title %}Order History - HomifyHub{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <h1 class="text-3xl font-bold mb-6">Order History</h1>
    {% for order in orders %}
        <div class="bg-white shadow-md rounded-lg p-6 mb-4">
            <p><strong>Order Number:</strong> {{ order.order_number }}</p>
            <p><strong>Status:</strong> {{ order.status }}</p>
            <p><strong>Total:</strong> ${{ order.total_amount }}</p>
            <p><strong>Date:</strong> {{ order.created_at|date:"Y-m-d H:i"|default:"N/A" }}</p>
            <div class="flex space-x-4 mt-4">
                <a href="{% url 'orders:order_tracking' order.id %}" class="btn btn-primary">Track Order</a>
                {% if order.is_cancellable %}
                    <a href="{% url 'orders:order_cancel' order.id %}" class="btn btn-danger">Cancel Order</a>
                {% endif %}
                {% if order.status == 'Delivered' %}
                    <a href="{% url 'orders:invoice' order.id %}" class="btn btn-secondary">Download Invoice</a>
                {% endif %}
            </div>
        </div>
    {% endfor %}
    {% if not orders %}
        <p class="text-gray-500">No orders found.</p>
    {% endif %}
</div>
{% endblock %}